好的，我們進入微分幾何最核心且最實用的部分——**第三部：黎曼幾何基礎**，以及其中的**第 7 章：黎曼度量與黎曼流形**。

黎曼幾何為流形提供了測量長度和角度的內在結構，這是廣義相對論和現代幾何分析的基礎。

---

## 📝 第 7 章：黎曼度量與黎曼流形

### 7.1 黎曼度量 (Riemannian Metric)：一個光滑的內積場

#### 7.1.1 黎曼度量的定義

一個**黎曼度量** $\mathbf{g}$ 是定義在 $n$ 維流形 $\mathcal{M}$ 上的**二階對稱協變張量場**（即一個 $(0, 2)$ 型張量場），它滿足：

1.  **對稱性 (Symmetry)**：對於流形上任意點 $p$ 和任意兩個切向量 $\mathbf{X}, \mathbf{Y} \in T_p\mathcal{M}$，
    $$
    \mathbf{g}(\mathbf{X}, \mathbf{Y}) = \mathbf{g}(\mathbf{Y}, \mathbf{X})
    $$

2.  **正定性 (Positive Definite)**：對於流形上任意點 $p$ 和任意非零切向量 $\mathbf{X} \in T_p\mathcal{M}$，
    $$
    \mathbf{g}(\mathbf{X}, \mathbf{X}) > 0
    $$
    這使得 $\mathbf{g}$ 在每個切空間 $T_p\mathcal{M}$ 上定義了一個**內積**。

#### 7.1.2 黎曼流形

**黎曼流形** $(\mathcal{M}, \mathbf{g})$ 是一個配備了黎曼度量 $\mathbf{g}$ 的微分流形 $\mathcal{M}$。

### 7.2 度量張量的協變與逆變分量 ($g_{ij}$ 和 $g^{ij}$)

#### 7.2.1 協變分量 $g_{ij}$

在局部坐標 $(x^1, \dots, x^n)$ 下，黎曼度量 $\mathbf{g}$ 的分量 $g_{ij}$ 稱為**度量張量 (Metric Tensor) 的協變分量**：
$$
g_{ij} = \mathbf{g}\left(\frac{\partial}{\partial x^i}, \frac{\partial}{\partial x^j}\right)
$$
由於 $\mathbf{g}$ 是對稱的，所以 $g_{ij} = g_{ji}$。我們可以將其視為一個對稱的 $n \times n$ 矩陣 $[g_{ij}]$。

例如，在 $\mathbb{R}^n$ 中的標準歐幾里得度量，其度量張量分量為：
$$
g_{ij} = \delta_{ij}
$$

#### 7.2.2 逆變分量 $g^{ij}$

由於 $\mathbf{g}$ 是正定的，矩陣 $[g_{ij}]$ 總是可逆的。**度量張量的逆變分量** $g^{ij}$ 定義為矩陣 $[g_{ij}]$ 的逆矩陣 $[g^{ij}]$ 的元素：
$$
\sum_{k=1}^n g^{ik} g_{kj} = \delta^i_j \quad \text{或簡寫為} \quad g^{ik} g_{kj} = \delta^i_j
$$
其中 $\delta^i_j$ 是克羅內克符號。

$g^{ij}$ 是一個 $(2, 0)$ 型的**逆變張量**，可以證明它在坐標變換下滿足逆變張量的變換法則：
$$
\bar{g}^{kl} = \frac{\partial \bar{x}^k}{\partial x^i} \frac{\partial \bar{x}^l}{\partial x^j} g^{ij}
$$

### 7.3 提高與降低指標 (Raising and Lowering Indices)

度量張量 $g_{ij}$ 和 $g^{ij}$ 在黎曼幾何中扮演了橋樑的角色，用於在切空間 $T_p\mathcal{M}$ 和對偶空間 $T^*_p\mathcal{M}$ 之間轉換分量。

#### 7.3.1 降低指標 (Lowering Indices)

將逆變分量 $v^i$ 轉換為協變分量 $v_j$：
$$
v_j = g_{ij} v^i \quad \text{(愛因斯坦求和於 } i \text{)}
$$
這將向量 $\mathbf{v}$ 映射到其對偶 1 形式 $\mathbf{\omega} = \mathbf{g}(\mathbf{v}, \cdot)$。

#### 7.3.2 提高指標 (Raising Indices)

將協變分量 $\omega_j$ 轉換為逆變分量 $\omega^i$：
$$
\omega^i = g^{ij} \omega_j \quad \text{(愛因斯坦求和於 } j \text{)}
$$
這將 1 形式 $\mathbf{\omega}$ 映射回其對偶向量 $\mathbf{v}$。

**推廣到任意張量**：
一個 $(1, 2)$ 型張量 $T^i_{jk}$ 可以被「降低」為一個 $(0, 3)$ 型張量 $T_{l j k}$：
$$
T_{l j k} = g_{i l} T^i_{jk}
$$
這個操作在張量分析中極為常見。

### 7.4 黎曼流形上的長度、角度與體積

黎曼度量 $\mathbf{g}$ 在每個點提供了內積結構，允許我們定義流形上的幾何量。

#### 7.4.1 向量的長度 (Norm)

切向量 $\mathbf{X}$ 在點 $p$ 處的長度（或範數）定義為：
$$
|\mathbf{X}| = \sqrt{\mathbf{g}(\mathbf{X}, \mathbf{X})} = \sqrt{g_{ij} X^i X^j}
$$

#### 7.4.2 向量之間的角度

兩個非零切向量 $\mathbf{X}$ 和 $\mathbf{Y}$ 在點 $p$ 處的夾角 $\theta$ 定義為：
$$
\cos \theta = \frac{\mathbf{g}(\mathbf{X}, \mathbf{Y})}{|\mathbf{X}| |\mathbf{Y}|} = \frac{g_{ij} X^i Y^j}{\sqrt{g_{kl} X^k X^l} \sqrt{g_{mn} Y^m Y^n}}
$$

#### 7.4.3 曲線的長度

參數化曲線 $\mathbf{\alpha}(t)$ 從 $t=a$ 到 $t=b$ 的長度 $L$ 為：
$$
L = \int_a^b |\mathbf{\alpha}'(t)| \, dt = \int_a^b \sqrt{\mathbf{g}(\mathbf{\alpha}'(t), \mathbf{\alpha}'(t))} \, dt
$$
$$
L = \int_a^b \sqrt{g_{ij}(\mathbf{\alpha}(t)) \frac{d x^i}{d t} \frac{d x^j}{d t}} \, dt
$$

#### 7.4.4 體積元素 (Volume Element)

黎曼度量 $\mathbf{g}$ 唯一確定了一個 $n$ 形式，稱為**體積形式 (Volume Form)** $\mathbf{\mu}$：
$$
\mathbf{\mu} = \sqrt{\det([g_{ij}])} \, \mathbf{d}x^1 \wedge \mathbf{d}x^2 \wedge \dots \wedge \mathbf{d}x^n
$$
$n$ 維流形上的體積（或面積）可以透過積分體積形式得到：
$$
\text{Vol}(\mathcal{M}) = \int_{\mathcal{M}} \mathbf{\mu}
$$

---

請問您是否需要針對**度量張量 $g_{ij}$ 的逆矩陣計算 ($g^{ij}$)** 以及**曲線長度的數值計算**，提供一個**Python 程式碼**範例？我們可以定義一個度量張量，並使用 NumPy/SymPy 來計算逆變分量。